<!DOCTYPE html> 
<html lang="en"> 
<head> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>Axios with HTML</title> 
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script> 
</head> 
<body> 

  <h1>ตัวอย่างการใช้ Axios ใน HTML</h1> 
  <button onclick="fetchData()">ดึงข้อมูลผู้ใช้</button> 
  <ul id="user-list"></ul> 

  <!-- เพิ่มปุ่มสำหรับดูภาพ NASA -->
  <button onclick="fetchNasaApod()">ดูภาพ NASA วันนี้</button>
  <div id="gallery"></div>

  <script> 
    async function fetchData() { 
      const userList = document.getElementById('user-list'); 
      userList.innerHTML = '<li>กำลังโหลดข้อมูล...</li>'; 
      try { 
        const response = await axios.get('https://jsonplaceholder.typicode.com/users'); 
        const users = response.data; 
        userList.innerHTML = ''; 
        users.forEach(user => { 
          const listItem = document.createElement('li'); 
          listItem.textContent = user.name; 
          userList.appendChild(listItem); 
        });  
      } catch (error) { 
        console.error('เกิดข้อผิดพลาดในการดึงข้อมูล:', error.message); 
        userList.innerHTML = '<li>เกิดข้อผิดพลาดในการดึงข้อมูล</li>'; 
      } 
    } 

    // ฟังก์ชันสำหรับดึงภาพ NASA APOD
    async function fetchNasaApod() {
      const gallery = document.getElementById('gallery');
      gallery.innerHTML = 'กำลังโหลดภาพ...';
      try {
        const response = await axios.get('https://api.nasa.gov/planetary/apod?api_key=DEMO_KEY');
        const data = response.data;
        gallery.innerHTML = `
          <h2>${data.title}</h2>
          <img src="${data.url}" alt="${data.title}" style="max-width:100%;margin-bottom:10px;">
          <p>${data.explanation}</p>
          <p><b>วันที่:</b> ${data.date}</p>
        `;
      } catch (error) {
        gallery.innerHTML = 'ไม่สามารถโหลดภาพจาก NASA ได้';
      }
    }
  </script> 

</body> 
</html>